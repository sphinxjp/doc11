.. highlight:: rest

.. Inline markup

.. _inline-markup:

インラインマークアップ
======================

.. Sphinx uses interpreted text roles to insert semantic markup into documents. They are written as ``:rolename:`content```.

Sphinxは解釈済みのテキストのロールというものを使用して、用語の意味を記述して、リンクを張ったりすることができます。これを記述する時は ``:ロール名:`内容``` というフォーマットで記述します。

.. note::

   デフォルトのロール(```content```)には標準では特別な意味を持っていません。必要に応じてどのように使用してもかまいません。例えば変数名として使用する、などです。 :confval:`default_role` という設定値を変更することで、デフォルトのロールに対して、既存のロールを設定することができます。

..   The default role (```content```) has no special meaning by default.  You are free to use it for anything you like, e.g. variable names; use the :confval:`default_role` config value to set it to a known role.

.. See :ref:`domains` for roles added by domains.

ドメインによって追加される追加のロールに関しては :ref:`domains` を参照してください。

.. Cross-referencing syntax

.. _xref-syntax:

クロスリファレンス文法
~~~~~~~~~~~~~~~~~~~~~~

.. Cross-references are generated by many semantic interpreted text roles. 
   Basically, you only need to write ``:rst:role:`target```, and a link will 
   be created to the item named *target* of the type indicated by *role*.  
   The links's text will be the same as *target*.

クロスリファレンスは、意味解釈済みのテキストロールから生成されます。基本的には ``:ロール:`用語``` という形式で書くだけでクロスリファレンスを作成することができます。このときは *用語* というアイテム名で、 *ロール* で指定されたタイプを持つリンクが作成されます。リンクに表示されるテキストは *用語* と同じになります。

.. There are some additional facilities, however, that make cross-referencing roles 
   more versatile

追加の補助機能がいくつかありますが、これはロールに対するクロスリファレンスの目的を増やすものになります。:

.. * You may supply an explicit title and reference target, like in reST direct
     hyperlinks: ``:rst:role:`title <target>``` will refer to *target*, but the link
     text will be *title*.

* ``:ロール:`タイトル <参照対象>``` というreSTのハイパーリンクに似た書き方をすると、タイトルと参照対象の両方を明示することができます。この場合は *参照対象* を参照するリンクになりますが、リンクテキストとして表示されるのは *タイトル* になります。

.. * If you prefix the content with ``!``, no reference/hyperlink will be created.

* 用語の先頭の文字に ``!`` を指定すると、参照もハイパーリンクも作成されなくなります。

.. * If you prefix the content with ``~``, the link text will only be the last 
     component of the target.  For example, ``:py:meth:`~Queue.Queue.get``` will 
     refer to ``Queue.Queue.get`` but only display ``get`` as the link text.

     In HTML output, the link's ``title`` attribute (that is e.g. shown as a 
     tool-tip on mouse-hover) will always be the full target name.

* 用語の先頭の文字に ``~`` を設定すると、リンクテキストは最後の項目だけが表示されるようになります。例えば、 ``:py:meth:`~Queue.Queue.get``` というマークアップがあったとすると、 ``Queue.Queue.get`` に対して参照が作成されますが、リンクテキストとしては ``get`` が表示されます。

  HTML出力時には、リンクの ``title`` アトリビュート(マウスを上に持って行ったときにツールチップとして表示されるテキスト)には、常に、完全な参照対象の名前が設定されます。


.. Cross-referencing arbitrary locations

.. _ref-role:

自由な場所へのクロスリファレンス
--------------------------------

.. rst:role:: ref

   .. To support cross-referencing to arbitrary locations in any document, the 
      standard reST labels are used.  For this to work label names must be unique 
      throughout the entire documentation.  There are two ways in which you can refer 
      to labels:

   標準のreSTのラベルを使用して、ドキュメント内の自由な位置にクロスリファレンスを作成することもできます。このラベルがきちんと動作するためには、ドキュメント全体の中で重複したラベルを使用することはできません。ラベルはユニークである必要があります。ラベルを参照する方法は２つあります:

   .. * If you place a label directly before a section title, you can reference to it 
        with ``:ref:`label-name```.  Example:

           .. _my-reference-label:

           Section to cross-reference
           --------------------------

           This is the text of the section.

           It refers to the section itself, see :ref:`my-reference-label`.

        The ``:ref:`` role would then generate a link to the section, with the link
        title being "Section to cross-reference".  This works just as well when
        section and reference are in different source files.

        Automatic labels also work with figures: given ::

           .. _my-figure:

           .. figure:: whatever

              Figure caption

        a reference ``:ref:`my-figure``` would insert a reference to the figure 
        with link text "Figure caption".

        The same works for tables that are given an explicit caption using the
        :dudir:`table` directive.

   * セクションのタイトルの直前にラベルを置くと、 ``:ref:`label-name``` と書くことで参照できるようになります::

        .. _my-reference-label:

        クロスリファレンスのセクション
        ------------------------------

        これはセクションのテキストです。
    
        これはセクションそのものを参照します。 :ref:`my-reference-label`


     ``:ref:`` ロールはセクションへのリンクを作成します。リンクのタイトルは "クロスリファレンスのセクション" になります。この機能はセクションと参照が異なるソースファイルにあるときに動作します。

     自動ラベルは図に対しても動作します::

        .. _my-figure:

        .. figure:: whatever

           図のキャプション

     ``:ref:`my-figure``` 参照を書くと、 "図のキャプション" というテキストを持つ、図への参照が生成されます。

     :dudir:`table` ディレクティブを使用して、キャプションを明示しているテーブルに対しても、同様の働きをします。

   .. * Labels that aren't placed before a section title can still be referenced 
        to, but you must give the link an explicit title, using this syntax: 
        ``:ref:`Link title <label-name>```.

   * セクションタイトルの前にないラベルに対しても参照することはできますが、タイトルを明示する必要があります。この場合には ``:ref:`リンクラベル <ラベル名>``` という文法を使用します。

   .. Using :rst:role:`ref` is advised over standard reStructuredText links to sections 
      (like ```Section title`_``) because it works across files, when section 
      headings are changed, and for all builders that support cross-references.

   これはファイルをまたいで動作するため、セクションの表題が変更されると、 :rst:role:`ref` を使用する、標準のreStructuredTextのセクション( ```セクションタイトル`_`` )へのリンクに対して通知されます。これはクロスリファレンスをサポートするすべてのビルダーについて言えます。


.. Cross-referencing documents

ドキュメントのクロスリファレンス
---------------------------------

.. versionadded:: 0.6

.. There is also a way to directly link to documents:

ドキュメントに対して直接リンクを張る方法もあります。

.. rst:role:: doc

   .. Link to the specified document; the document name can be specified in
      absolute or relative fashion.  For example, if the reference
      ``:doc:`parrot``` occurs in the document ``sketches/index``, then the link
      refers to ``sketches/parrot``.  If the reference is ``:doc:`/people``` or
      ``:doc:`../people```, the link refers to ``people``.

   絶対/相対のどちらかの形式でドキュメント名を指定することで、特定のドキュメントに対してリンクを張ることができます。例えば、 ``:doc:`parrot``` という参照が ``sketches/index`` というファイルの中にあったとすると、 ``skethes/parrot`` に対するリンクとなります。もし参照が ``:doc:`/people``` もしくは ``:doc:`../people``` という形式で書かれている場合には ``people`` に対するリンクが作成されます。

   .. If no explicit link text is given (like usual: ``:doc:`Monty Python members
      </people>```), the link caption will be the title of the given document.

   ``:doc:`Monty Python members </people>``` という形式で、明示的にリンクテキストを指定することができますが、もし明示的なリンクテキストが与えられなかった場合には指定されたドキュメントのタイトルがリンクテキストとなります。

.. Referencing downloadable files

ダウンロード可能なファイルへの参照
----------------------------------

.. versionadded:: 0.6

.. rst:role:: download

   .. This role lets you link to files within your source tree that are not reST
      documents that can be viewed, but files that can be downloaded.

   このロールは表示可能なreST形式ではなく、ソースツリーに存在するその他の形式のファイルへのリンクを張って、ファイルをダウンロードできるようにするときに使用します。

   .. When you use this role, the referenced file is automatically marked for
      inclusion in the output when building (obviously, for HTML output only).
      All downloadable files are put into the ``_downloads`` subdirectory of the
      output directory; duplicate filenames are handled.

   このロールを使用すると、HTML出力時に、参照されたファイルはビルド時に自動的に出力ディレクトリにコピーされることになります。すべてのダウンロード可能なファイルは出力ディレクトリ中の ``_downloads`` サブディレクトリ出力されます。重複した名前のファイルがあっても扱うことができます。

   .. An example
      See :download:`this example script <../example.py>`.

   サンプル::
   
      :download:`このサンプルスクリプト <../example.py>` を参照してください

   .. The given filename is usually relative to the directory the current sourc
      file is contained in, but if it absolute (starting with ``/``), it is taken
      as relative to the top source directory.

   与えられたファイル名は通常、そのロールが書かれているソースファイルからの相対ディレクトリで指定されますが、もし絶対パス(``/`` で始まる)の場合には、トップのソースディレクトリからの相対パスとして見られます。

   .. The ``example.py`` file will be copied to the output directory, and a
      suitable link generated to it.

   ``example.py`` ファイルは出力ディレクトリにコピーされ、適切なリンクが生成されます。


.. Other semantic markup
.. ---------------------

上記以外の意味のマークアップ
-----------------------------

.. The following roles don't do anything special except formatting the text in a different style:

以下のロールは、テキストのスタイルを変更する意外には特別なことはしません。

.. rst:role:: abbr
   
   言葉の短縮形を書くのに使用します。ロールの中身として、括弧付き表現が含まれていた場合には特別扱いされます。HTMLではツールチップとして使用され、LaTeXでは一度だけ出力されます。
   
   例: ``:abbr:`LIFO (last-in, first-out)```.

   .. versionadded:: 0.6

..   An abbreviation.  If the role content contains a parenthesized explanation, it will be treated specially: it will be shown in a tool-tip in HTML, and output only once in LaTeX.

..   Example: ``:abbr:`LIFO (last-in, first-out)```.

.. rst:role:: command

   ``rm`` のような、OSレベルのコマンドの名前に使用します。

..   The name of an OS-level command, such as ``rm``.

.. rst:role:: dfn

   テキスト中の用語の定義を書くのに使用します。インデックスエントリーは作成されません。

..   Mark the defining instance of a term in the text.  (No index entries are generated.)

.. rst:role:: file

   ファイルやディレクトリの名前に使用します。ロールの中身の中には"変数"を表す波括弧を含めることができます。例::

      ... は :file:`/usr/lib/python2.{x}/site-packages` にインストールされます ...

   ドキュメントのビルドの中で、 ``x`` Pythonのマイナーバージョンを表す文字に置き換えられて表示されます。

..   The name of a file or directory.  Within the contents, you can use curly braces to indicate a "variable" part, for example::

..       ... is installed in :file:`/usr/lib/python2.{x}/site-packages` ...

..   In the built documentation, the ``x`` will be displayed differently to indicate that it is to be replaced by the Python minor version.

.. rst:role:: guilabel

   .. Labels presented as part of an interactive user interface should be marked 
      using ``guilabel``.  This includes labels from text-based interfaces such as 
      those created using :mod:`curses` or other text-based libraries.  Any label 
      used in the interface should be marked with this role, including button 
      labels, window titles, field names, menu and menu selection names, and even 
      values in selection lists.

   インタラクティブなユーザインタフェースの一部のラベルとして表示される文字に対しては ``guilabel`` を使用します。これは、 :mod:`curses` やその他のコンソール用ライブラリを使用したテキストベースのインタフェースにも使用します。ボタンやウィンドウのタイトル、フィールド名、メニュー、やメニューの項目名、リスト中の選択された値など、インタフェース上に表示されるラベルには、このロールを使用すべきです。

   .. 
      .. versionchanged:: 1.0
      An accelerator key for the GUI label can be included using an ampersand;
      this will be stripped and displayed underlined in the output (example:
      ``:guilabel:`&Cancel```).  To include a literal ampersand, double it.

   .. versionchanged:: 1.0

      アンパサンド(``&``)を利用して、GUIラベルのアクセラレートキーを含めることができるようになりました。 ``:guilabel:`&Cancel`` のように使用します。出力テキストでは、アンパサンドは削除され、直後の文字にアンダースコアが付きます。アンパサンドの文字そのものを入れたい場合には、この文字を2回書きます。

.. rst:role:: kbd

   キーボード操作のキーに使用します。 キー操作をどのように表現するかはプラットフォームや、アプリケーション上の慣習の影響を受けます。もし、慣習に関しての制約がない場合には、修飾キー(Shiftなど)の名前は、省略せずにきちんと書くと、新規ユーザと、英語がネイティブでないユーザから見たアクセシビリティは向上します。例えば、*xemacs* キー操作は ``:kbd:`C-x C-f``` という表現になるでしょう。しかし、特定のアプリケーションやプラットフォームに限定する必要がなければ同じ操作は ``:kbd:`Control-x Control-f``` と書くべきです。

..   Mark a sequence of keystrokes.  What form the key sequence takes may depend on platform- or application-specific conventions.  When there are no relevant conventions, the names of modifier keys should be spelled out, to improve accessibility for new users and non-native speakers.  For example, an *xemacs* key sequence may be marked like ``:kbd:`C-x C-f```, but without reference to a specific application or platform, the same sequence should be marked as ``:kbd:`Control-x Control-f```.

.. rst:role:: mailheader

   RFC 822の形式のメールヘッダの名前に使用します。これでマークアップされたヘッダは電子メールのメッセージの中で必ず使用されている必要はありませんが、参照するのに他のヘッダと同じ形式を使用することが可能です。このヘッダはさまざまなMIMEの使用で定義されたヘッダに対しても使用することができます。ヘッダ名は実際に電子メール内で使用されるのと同じ形式(キャメルケース)で書かれるべきです。例えば、 ``:mailheader:`Content-Type``` という形式になります。

..   The name of an RFC 822-style mail header.  This markup does not imply that  the header is being used in an email message, but can be used to refer to any header of the same "style."  This is also used for headers defined by the various MIME specifications.  The header name should be entered in the same way it would normally be found in practice, with the camel-casing conventions being preferred where there is more than one common usage. For example: ``:mailheader:`Content-Type```.

.. rst:role:: makevar

   :command:`make` の変数名です。

..   The name of a :command:`make` variable.

.. rst:role:: manpage

   セクションの内容を含むUnixのマニュアルページへの参照です。 例: ``:manpage:`ls(1)```

..   A reference to a Unix manual page including the section,
..   e.g. ``:manpage:`ls(1)```.

.. rst:role:: menuselection

   .. Menu selections should be marked using the ``menuselection`` role.  This is 
      used to mark a complete sequence of menu selections, including selecting 
      submenus and choosing a specific operation, or any subsequence of such a 
      sequence.  The names of individual selections should be separated by 
      ``-->``.

   メニュー選択は ``menuselection`` ロールを使用すべきです。これはメニュー操作の手順をマークアップするのに使用します。メニューにはメニュー選択、サブメニュー選択、特定の操作での選択や、さらに細かいサブ操作などを含みます。それぞれの選択要素の名前は ``-->`` を使用して分割すべきです。

   .. For example, to mark the selection "Start > Programs", use this markup:

      :menuselection:`Start --> Programs`

   例えば、"スタート > プログラム"という順番でメニューを選択する動作は以下のように記述します::

      :menuselection:`スタート --> プログラム`

   .. When including a selection that includes some trailing indicator, such as the 
      ellipsis some operating systems use to indicate that the command opens a 
      dialog, the indicator should be omitted from the selection name.

   もし、選択したメニューにはオペレーティングシステム固有のコマンドの指示などが含まれていた場合には、これは省略すべきです。例えば、ダイアログを開くコマンドなどです。このようなコマンドの指示は選択名からは省きます。

   .. ``menuselection`` also supports ampersand accelerators just like
      :rst:role:`guilabel`.

   ``menuselection`` は :rst:role:`guilabel` と同じく、アンパサンドを利用したアクセラレータの表示に対応しています。


.. rst:role:: mimetype

   MIMEタイプの名前、もしくはの一部MIMEタイプ(メジャー、マイナー部分、もしくは単独)を表します。

..   The name of a MIME type, or a component of a MIME type (the major or minor portion, taken alone).

.. rst:role:: newsgroup

   USENETのニュースグループ名です。

..   The name of a Usenet newsgroup.

.. rst:role:: program

   実行プログラムの名前です。これはプラットフォームによって名前が変化することもあります。特にWindowsのプログラムのための ``.exe`` やそれ以外の拡張子はは省略すべきです。

..   The name of an executable program.  This may differ from the file name for the executable for some platforms.  In particular, the ``.exe`` (or other) extension should be omitted for Windows programs.

.. rst:role:: regexp

   正規表現です。引用符は含めることはできません。

..   A regular expression. Quotes should not be included.

.. rst:role:: samp

   .. A piece of literal text, such as code.  Within the contents, you can use 
      curly braces to indicate a "variable" part, as in :rst:dir:`file` For
      example, in ``:samp:`print 1+{variable}```, the part ``variable`` would be
      emphasized.

   リテラルのテキストの一部です。マークアップの内容の中には、 :rst:dir:`file` と同様に波括弧を使った"変数"を書くことができます。たとえば、 ``:samp:`print 1+{variable}``` というテキストがあると、 ``variable`` の部分が強調されます。

   .. If you don't need the "variable part" indication, use the standard 
      ````code```` instead.

   もし"変数部分"が不要であれば、標準の ````コード```` という形式を代わりに使用してください。



.. The following roles generate external links:

下記のロールは外部へのリンクを生成します。

.. rst:role:: pep

   Python拡張提案書(PEP)への参照です。これは適切なインデックスのエントリーを作成します。"PEP *number*\ "という形式のテキストが作成されます。HTML出力ではこのテキストは特定のPEPのオンラインのコピーへのハイパーリンクとなります。

..   A reference to a Python Enhancement Proposal.  This generates appropriate index entries. The text "PEP *number*\ " is generated; in the HTML output, this text is a hyperlink to an online copy of the specified PEP.

.. rst:role:: rfc

   インターネットのRFCへの参照です。これは適切なインデックスのエントリーを作成します。"RFC *number*\ "という形式のテキストが作成されます。HTML出力ではこのテキストは特定のRFCのオンラインのコピーへのハイパーリンクとなります。

..   A reference to an Internet Request for Comments.  This generates appropriate index entries. The text "RFC *number*\ " is generated; in the HTML output, this text is a hyperlink to an online copy of the specified RFC.


.. Note that there are no special roles for including hyperlinks as you can use the standard reST markup for that purpose.

このような目的を達成しようとしても、標準のreSTマークアップだけではハイパーリンクを取り込む特別なロールは存在しません。

.. Cross-referencing other items of interest
   -----------------------------------------

他の要素へのクロスリファレンス
------------------------------

.. The following roles do possibly create a cross-reference, but do not refer to 
   objects:

以下のロールはクロスリファレンスを作成しますが、特定のオブジェクトを参照しません。

.. rst:role:: envvar

   .. An environment variable.  Index entries are generated.  Also generates a link 
      to the matching :rst:dir:`envvar` directive, if it exists.

   環境変数です。エントリーのインデックスが作成されます。もし :rst:dir:`envvar` ディレクティブがあれば、それへのリンクが作成されます。


.. rst:role:: token

   .. The name of a grammar token (used to create links between 
      :rst:dir:`productionlist` directives).

   文法のトークンの名前です。 :rst:dir:`productionlist` ディレクティブ内の定義との間でリンクが作成されます。


.. rst:role:: keyword

   .. The name of a keyword in Python.  This creates a link to a reference label 
      with that name, if it exists.

   Pythonのキーワード名です。もし存在していれば、この名前を持つ参照ラベルとの間にリンクが作成されます。


.. rst:role:: option

   .. A command-line option to an executable program.  The leading hyphen(s) must 
      be included.  This generates a link to a :rst:dir:`cmdoption` directive, if it 
      exists.

   実行ファイルのコマンドラインオプションです。前に付くハイフンも含める必要があります。 :rst:dir:`cmdoption` ディレクティブで定義されていれば、リンクを作成します。


.. The following role creates a cross-reference to the term in the glossary:

以下のロールは用語集との間にクロスリファレンスを作成します:

.. rst:role:: term

   .. Reference to a term in the glossary.  The glossary is created using the
      ``glossary`` directive containing a definition list with terms and
      definitions.  It does not have to be in the same file as the ``term`` markup, 
      for example the Python docs have one global glossary in the ``glossary.rst`` 
      file.

   用語集の用語への参照。用語集は ``glossary`` ディレクティブを使用して定義します。用語集と ``term`` マークアップは同じファイルにある必要はありません。例えばPythonのドキュメントは一つの用語集の ``glossary.rst`` というファイルの中にすべての用語の定義が書かれています。

   .. If you use a term that's not explained in a glossary, you'll get a warning 
      during build.

   もしも、用語集の中で説明されていない用語がある場合には、ビルド時に警告が出力されます。


.. Substitutions
   -------------

.. _default-substitutions:

置換
----

.. The documentation system provides three substitutions that are defined by default. They are set in the build configuration file.

デフォルトでは3つの代数がドキュメントシステムから提供されています。これらはビルドの設定ファイルの中で設定されます。

.. describe:: |release|

   ドキュメントが参照しているプロジェクトのリリースと置き換えられます。これは、 ``2.5.2b3`` などのような、alpha/beta/release candidateタグも含めた完全なバージョン文字列と置換されます。 :confval:`release` を使って設定します。

..   Replaced by the project release the documentation refers to.  This is meant to be the full version string including alpha/beta/release candidate tags, e.g. ``2.5.2b3``.  Set by :confval:`release`.

.. describe:: |version|

   ドキュメントが参照しているプロジェクトのリリースと置き換えられます。これは、メジャーバージョン、マイナーバージョンの定義部分のみを含む文字列です。例えば、``2.5.1`` というのがあったとすると、 ``2.5`` になります。 :confval:`version` を使って設定します。 

..   Replaced by the project version the documentation refers to. This is meant to consist only of the major and minor version parts, e.g. ``2.5``, even for version 2.5.1.  Set by :confval:`version`.

.. describe:: |today|

   本日の日付に置き換えられます。日付はドキュメントが読み込まれた日になります。もしくはビルド設定ファイルにて日付を設定することも可能です。通常は ``April 14, 2007`` というフォーマットが使用されます。 :confval:`today_fmt` と :confval:`today` を設定することで変更することができます。 

..   Replaced by either today's date (the date on which the document is read), or the date set in the build configuration file.  Normally has the format ``April 14, 2007``.  Set by :confval:`today_fmt` and :confval:`today`.
